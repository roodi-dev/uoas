{% extends 'base.html' %}
{% block title %}{{ product.name }} | Product Detail | uoas{% endblock %}
{% block meta %}
<meta name="description" content="{{ product.description|truncatewords:25 }}">
<meta property="og:title" content="{{ product.name }} | uoas" />
<meta property="og:description" content="{{ product.description|truncatewords:25 }}" />
<meta property="og:image" content="{{ product.image_url }}" />
{% endblock %}
{% block content %}
<main class="product-detail-main" itemscope itemtype="https://schema.org/Product">
  <section class="product-detail-container">
    <h1 class="product-title" itemprop="name">{{ product.name }}</h1>
    <div class="product-detail-flex">
      <figure class="product-detail-figure">
        {% if product.image %}
          <img src="{{ product.image.url }}" alt="{{ product.name }} product image" class="product-detail-image" itemprop="image" />
        {% elif product.image_url %}
          <img src="{{ product.image_url }}" alt="{{ product.name }} product image" class="product-detail-image" itemprop="image" />
        {% else %}
          <img src="/static/placeholder-image.png" alt="{{ product.name }} product image" class="product-detail-image" itemprop="image" />
        {% endif %}
      </figure>
      <div class="product-detail-info">
        <p class="product-description" itemprop="description"><strong>Description:</strong> {{ product.description }}</p>
        <p><strong>Type:</strong> <span itemprop="category">{{ product.get_product_type_display }}</span></p>
        <form method="post" action="/quote/add/{{ product.id }}/" class="quotation-form" autocomplete="on">
          {% csrf_token %}
          <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required autocomplete="name">
          </div>
          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required autocomplete="email">
          </div>
          <div class="form-group">
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" min="1" value="1" required>
          </div>
          <div class="form-group">
            <label for="notes">Notes:</label>
            <textarea id="notes" name="notes" rows="2"></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Request Quotation</button>
        </form>
      </div>
    </div>
  </section>
</main>
{% endblock %}
